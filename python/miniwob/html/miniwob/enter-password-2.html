<!DOCTYPE html>
<html>
<head>
<title>Enter Password Task 2</title>

<!-- stylesheets -->
<link rel="stylesheet" type="text/css" href="../core/core.css">
<style>
input { margin: 5px; width: 100px; }
#subbtn { margin: 0 7px; }
</style>

<!-- JS -->
<script src="../core/core.js"></script>
<script src="../core/d3.v3.min.js"></script>
<script src="../common/ui_utils.js"></script>
<script>

var genProblem = function() {
  d3.select('#password')[0][0].value ='';
  d3.select('#verify')[0][0].value ='';

  var password = ui_utils.generateString(2,6);
  var q = core.sample(ui_utils.FIFTY_NAMES);
  d3.select('#q').text(q);
  d3.select('#query').html('Enter "<span class="bold">' + password + '</span>" into '+q+' text field.');

  d3.select("#password").on('change', function() {
    var p = d3.select('#password')[0][0].value;
    if (p === password) {
      core.endEpisode(1.0, true);
    }
  });

  d3.select("#verify").on('focus', function() {
    core.endEpisode(-1.0, false);
  });
}

window.onload = function() {
  core.startEpisode();
}
</script>
</head>
<body>
<div id="wrap">
  <div id="query"></div>
  <div id="area">
    <div id="form">
      <p><label id="q">Password</label><input type="password" id="password"></p>
      <p><label>Not a bot</label><input type="password" id="verify"></p>
    </div>
  </div>
</div>
</body>
</html>
